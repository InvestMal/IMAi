services:
  # تعريف الخدمة كـ Web Service لتشغيل الـ Dashboard والـ API
  - type: web
    name: investmal-ai-dashboard
    env: node # أو python حسب لغة المشروع الأساسية
    plan: free # يمكنك تغييرها إلى starter لدعم أفضل للـ WebSockets
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: THINKING_CONFIG_TOKENS
        value: 1024 # تخصيص التفكير للعملاء الذكيين
      - key: ENABLE_WEBSOCKETS
        value: true # تفعيل منطق الـ WebSocket
      - key: COMPLIANCE_MODE
        value: strict # تفعيل طبقة الامتثال والرقابة
      - key: NODE_ENV
        value: production

    # إعدادات الـ Health Check للتأكد من استقرار النظام
    healthCheckPath: /health 

    # لضمان بقاء اتصال الـ WebSocket نشطاً (للحسابات المدفوعة)
    autoDeploy: true
